<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juego de la SalteÃ±a</title>
  <link href="https://fonts.googleapis.com/css?family=Anton|Roboto:700" rel="stylesheet">
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    body {
      background-color: #000; /* Black background */
      height: 100vh;
      font-family: 'Roboto', sans-serif;
      overflow: hidden;
    }

    /* === TITULO SALTEÃ‘A === */
    .center {
      position: absolute;
      text-align: center;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
    }

    .center h1 {
      color: rgba(255, 0, 0, 0.1);
      font-size: clamp(5rem, 12vw, 8rem); /* Increased font size */
      text-transform: uppercase;
      font-weight: 700;
      background-size: cover;
      background-image: url(https://cdn-images-1.medium.com/max/2000/1*Jalb56N34pBIGCjQULtW3A.jpeg);
      -webkit-background-clip: text;
      animation: background-text-animation 25s linear infinite; /* Slower animation */
    }

    @keyframes background-text-animation {
      0% {
        background-position: left 0px top 50%;
      }
      50% {
        background-position: left 1500px top 50%;
      }
      100% {
        background-position: left 0px top 50%;
      }
    }

    /* === TEXTO FLIP === */
    #container {
      color: #fff;
      text-transform: uppercase;
      font-size: clamp(1.5rem, 6vw, 3rem);
      font-weight: bold;
      position: fixed;
      width: 100%;
      top: 170px;
      display: block;
      text-align: center;
      z-index: 25;
    }

    #flip {
      height: 50px;
      overflow: hidden;
      display: inline-block;
    }

    #flip > div > div {
      color: #fff;
      padding: 4px 12px;
      height: 45px;
      margin-bottom: 45px;
      display: inline-block;
      background: none;
      font-size: 1.6rem;
    }

    #flip div:first-child {
      animation: show 6s linear infinite;
    }

    @keyframes show {
      0% {
        margin-top: -270px;
      }
      5% {
        margin-top: -180px;
      }
      33% {
        margin-top: -180px;
      }
      38% {
        margin-top: -90px;
      }
      66% {
        margin-top: -90px;
      }
      71% {
        margin-top: 0;
      }
      99.99% {
        margin-top: 0;
      }
      100% {
        margin-top: -270px;
      }
    }

    /* === BOTONES === */
    .center-links {
      position: absolute;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 20;
      align-items: center;
    }

    .link-btn {
      width: 180px;
      height: 60px;
      border: 4px solid white;
      border-radius: 14px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
      transition: transform 0.2s;
      color: white;
      font-size: 1.6rem;
      font-weight: bold;
    }

    .link-btn:hover {
      transform: scale(1.1);
    }

    .instagram {
      background: linear-gradient(45deg, #feda75, #d62976, #962fbf, #4f5bd5);
    }

    .youtube {
      background: #ff0000;
    }

    .tiktok {
      background: black;
    }

    /* === SALTEÃ‘A === */
    .saltena {
      position: absolute;
      top: -160px;
      width: 70px;
      height: 130px;
      background: radial-gradient(circle at 30% 30%, #e8b93c, #c97a1c);
      clip-path: ellipse(40% 50% at 50% 50%);
      z-index: 1;
    }

    .saltena::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      width: 8px;
      height: 100%;
      background: repeating-linear-gradient(45deg, #3a1c05 0px, #3a1c05 4px, #8b4a1e 4px, #8b4a1e 8px);
      transform: translateX(-50%);
      clip-path: ellipse(60% 100% at 50% 50%);
    }

    /* === SALTEÃ‘A BANDERA === */
    .flag {
      width: 60px;
      height: 35px;
      border-radius: 6px;
      background: linear-gradient(to bottom, red 20%, yellow 20% 70%, green 70%);
      animation: rise 1s forwards;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    @keyframes rise {
      from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      to {
        opacity: 0;
        transform: translateX(-50%) translateY(-80px);
      }
    }

    /* === BOTELLA === */
    .bottle {
      width: 30px;
      height: 70px;
      border-radius: 6px;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .bottle-part {
      flex: 1;
      width: 100%;
    }

    .part1 {
      background: rgba(255, 255, 255, 0.9);
    }

    .part2,
    .part5,
    .part6 {
      background: #2c0d0d;
    }

    .part3,
    .part4 {
      background: red;
    }

    .bottle-neck {
      position: absolute;
      width: 18px;
      height: 12px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 3px;
      top: -12px;
      left: 6px;
    }

    .bottle-cap {
      position: absolute;
      width: 20px;
      height: 8px;
      background: red;
      border-radius: 2px;
      top: -20px;
      left: 5px;
    }

    /* === PACMAN === */
    #pacman {
      position: absolute;
      bottom: 40px;
      left: 50%;
      width: 60px;
      height: 60px;
      background: #ffeb3b;
      border-radius: 50%;
      transform: translateX(-50%) rotate(-90deg);
      overflow: hidden;
      z-index: 2;
    }

    #mouth {
      position: absolute;
      width: 100%;
      height: 100%;
      background: #000; /* Black mouth */
      clip-path: polygon(50% 50%, 100% 0, 100% 100%);
      transform-origin: 50% 50%;
      animation: chomp 0.5s infinite;
    }

    @keyframes chomp {
      0% {
        clip-path: polygon(50% 50%, 100% 0, 100% 100%);
      }

      50% {
        clip-path: polygon(50% 50%, 100% 48%, 100% 52%);
      }

      100% {
        clip-path: polygon(50% 50%, 100% 0, 100% 100%);
      }
    }

    #eye {
      position: absolute;
      top: 15%;
      left: 50%;
      width: 8px;
      height: 8px;
      background: black;
      border-radius: 50%;
      transform: translateX(-50%);
      z-index: 3;
    }
  </style>
</head>
<body>

  <!-- TITULO SALTEÃ‘A -->
  <div class="center">
    <h1>SalteÃ±a</h1>
  </div>

  <!-- TEXTO FLIP -->
  <div id="container">
    <div id="flip">
      <div><div>Â¡VOTA AHORA!</div></div>
      <div><div>POR BOLIVIAðŸ‡§ðŸ‡´</div></div>
      <div></div></div>
    </div>
  </div>

  <!-- PACMAN -->
  <div id="pacman">
    <div id="eye"></div>
    <div id="mouth"></div>
  </div>

  <!-- LINKS -->
  <div class="center-links">
    <a href="https://www.instagram.com/reel/DOMBAn5jLMA/?igsh=NjBlc214OXE4cHY2" target="_blank" class="link-btn instagram">Instagram</a>
    <a href="https://youtube.com/shorts/7iYviaiLAAE?si=1vuTnVQ32iBKzYio" target="_blank" class="link-btn youtube">YouTube</a>
    <a href="https://vm.tiktok.com/ZMAMTV1Fn/" target="_blank" class="link-btn tiktok">TikTok</a>
  </div>

  <script>
    // Here goes your pacman movement logic and item fall handling
    const pacman = document.getElementById("pacman");
    let pacX = window.innerWidth / 2;
    let spawnInterval;
    let spawnRate = 1500;
    let fallSpeed = 3;
    let cokeLevel = 0;
    let saltenasEaten = 0;

    const pacColors = ["#ffeb3b", "#d4a017", "#5d4037"];

    // animaciÃ³n SALTEÃ‘A
    const spans = document.querySelectorAll(".word span");
    setInterval(() => {
      const idx = Math.floor(Math.random() * spans.length);
      spans[idx].classList.add("active");
      setTimeout(() => spans[idx].classList.remove("active"), 2500);
    }, 1500);

    // Movimiento pacman
    let touchStartX = null;
    document.addEventListener("touchstart", e => {
      const touchX = e.touches[0].clientX;
      const pacRect = pacman.getBoundingClientRect();
      if (touchX > pacRect.left - 80 && touchX < pacRect.right + 80) {
        touchStartX = touchX;
      }
    });
    document.addEventListener("touchmove", e => {
      const currentX = e.touches[0].clientX;
      if (touchStartX !== null) {
        let dx = currentX - touchStartX;
        pacX += dx;
        movePacman();
        touchStartX = currentX;
      }
    });
    document.addEventListener("touchend", () => { touchStartX = null; });
    document.addEventListener("mousemove", e => { pacX = e.clientX; movePacman(); });

    function movePacman() {
      if (pacX < 30) pacX = 30;
      if (pacX > window.innerWidth - 30) pacX = window.innerWidth - 30;
      pacman.style.left = pacX + "px";
    }

    // Objetos
    function createItem() {
      if (Math.random() < 0.3) {
        const bottleContainer = document.createElement("div");
        bottleContainer.style.position = "absolute";
        bottleContainer.style.left = Math.random() * (window.innerWidth - 40) + "px";
        bottleContainer.style.top = "-160px";
        bottleContainer.style.width = "30px";
        bottleContainer.style.height = "90px";

        const body = document.createElement("div");
        body.className = "bottle";
        for (let i = 1; i <= 6; i++) {
          const part = document.createElement("div");
          part.className = "bottle-part part" + i;
          body.appendChild(part);
        }
        const neck = document.createElement("div");
        neck.className = "bottle-neck";
        const cap = document.createElement("div");
        cap.className = "bottle-cap";
        bottleContainer.appendChild(body);
        bottleContainer.appendChild(neck);
        bottleContainer.appendChild(cap);
        document.body.appendChild(bottleContainer);
        fallItem([bottleContainer], "coke");
      } else {
        const item = document.createElement("div");
        item.className = "saltena";
        item.style.left = Math.random() * (window.innerWidth - 80) + "px";
        document.body.appendChild(item);
        fallItem([item], "saltena");
      }
    }

    function fallItem(parts, type) {
      let y = -160;
      function fall() {
        if (document.hidden) { parts.forEach(p => p.remove()); return; }
        y += fallSpeed;
        parts.forEach(p => p.style.top = y + "px");
        const pacRect = pacman.getBoundingClientRect();
        const rect = parts[0].getBoundingClientRect();
        if (rect.bottom >= pacRect.top && rect.left < pacRect.right && rect.right > pacRect.left) {
          parts.forEach(p => p.remove());
          if (type === "coke") {
            cokeLevel = Math.min(cokeLevel + 1, pacColors.length - 1);
            pacman.style.background = pacColors[cokeLevel];
          } else {
            saltenasEaten++;
            const flag = document.createElement("div");
            flag.className = "flag";
            flag.style.left = rect.left + "px";
            flag.style.top = rect.top + "px";
            document.body.appendChild(flag);
            setTimeout(() => flag.remove(), 1000);

            // Pacman vuelve amarillo
            cokeLevel = 0;
            pacman.style.background = pacColors[0];

            // Aumentar velocidad tras 10 salteÃ±as
            if (saltenasEaten % 10 === 0) {
              fallSpeed += 1;
            }
          }
          return;
        }
        if (y < window.innerHeight) requestAnimationFrame(fall); else parts.forEach(p => p.remove());
      }
      fall();
    }

    function startSpawning() {
      if (!spawnInterval) spawnInterval = setInterval(createItem, spawnRate);
    }

    function stopSpawning() { clearInterval(spawnInterval); spawnInterval = null; }

    document.addEventListener("visibilitychange", () => { if (document.hidden) stopSpawning(); else startSpawning(); });
    startSpawning();
  </script>
</body>
</html>
